## Event loop 

>[!warning]
>Event loop - не является частью движков, цикл событий предоставляется СРЕДОЙ (браузер, node js)

При работе с асинхронными операциями используется две очереди (macrotask queue and microtask queue) - очередь событий и очередь задач
* Микротаски имеют преимущество при вызове call stack 
* только после того, как все микротаски будут выполнены берется именно ОДНА макротаска, так как макротаски порождают микротаски, а они в приоритете 

Что порождает МИКРОТАСКИ
* В основном это Promises
* queueMicrotask( происходит если явно указывать задачу в микротаску)
* mutationObserver (специальный инструмент, который позволяет следить за DOM nodes)
Что порождает МАКРОТАСКИ
* Таймеры (setTimeout, setInterval)
* события (клик, загрузка изображения и тд)
* Браузерные нюансы(рендер, I/O и тд)

>[!warning]
>Promises всегда попадают в очередь задач (Microtask queue)

